[gd_scene load_steps=18 format=2]

[ext_resource path="res://Tile_Set_For_Fight_Scene.tres" type="TileSet" id=1]
[ext_resource path="res://Game/LocationsLevels/Max_level_Fight_Scene.gd" type="Script" id=2]
[ext_resource path="res://Game/LocationsLevels/JAUlt.gd" type="Script" id=3]
[ext_resource path="res://maxresdefault.jpg" type="Texture" id=4]
[ext_resource path="res://Game/LocationsLevels/JAUltLeft.gd" type="Script" id=5]
[ext_resource path="res://Game/LocationsLevels/JAUltRight.gd" type="Script" id=6]
[ext_resource path="res://Game/Tile_setsTools_for_level/Tools_for_level/Torches/小handelier.tscn" type="PackedScene" id=7]
[ext_resource path="res://Game/Tile_setsTools_for_level/Tools_for_level/Torches/Torch.tscn" type="PackedScene" id=8]
[ext_resource path="res://Anims/background/FOn2-scale-2.png" type="Texture" id=9]
[ext_resource path="res://1.png" type="Texture" id=10]

[sub_resource type="CanvasItemMaterial" id=13]
blend_mode = 1
light_mode = 1

[sub_resource type="RectangleShape2D" id=11]

[sub_resource type="RectangleShape2D" id=12]

[sub_resource type="RectangleShape2D" id=6]
extents = Vector2( 658.5, 92 )

[sub_resource type="NavigationPolygon" id=7]
vertices = PoolVector2Array( 966, -36, 969, -1, 869, -1, 903, -36, 866, -47, 902, -79, 846, -79, 817, -47, 815, -79, 843, -112, 754, -116, 783, -79, 741, -72, 782, -66, 737, -59, 721, -63, 721, -54, 741, -49, 766, -57, 752, -47, -105, 3, -106, -30, -10, -30, 1, 3, 2, -50, -11, -85, 48, -77, 48, -49, 80, -77, 56, -111, 112, -89, 782, 0, 563, 1, 563, -15, 689, -11, 199, -56, 183, -56, 183, -65, 208, -66, 231, -30, 206, -48, 207, -30, 500, -15, 500, -47, 587, -44, 639, -28, 356, -68, 371, -47, 371, -15, 305, -15, 286, -30, 285, -47, 305, 3, 79, 4, 184, -11, 150, -61, 80, -62, 153, -87, 153, -47, 121, -47, 123, -60, 80, -36, 121, -30, 356, -90, 356, -97, 414, -100, 782, -56, 752, -29, 692.102, -28.2119, 728.269, -28.6877, 731, -12, 187, -30, 585, -72, 560, -101, 734.285, -28.7669, 150.645, -30, 180, -30, 144, -11, 676, -28, 684.66, -28.1139, 139.082, -30, 661, -28, 652, -28 )
polygons = [ PoolIntArray( 0, 1, 2, 3 ), PoolIntArray( 3, 2, 4, 5 ), PoolIntArray( 6, 5, 4, 7 ), PoolIntArray( 6, 7, 8, 9 ), PoolIntArray( 10, 9, 8, 11 ), PoolIntArray( 12, 10, 11, 13 ), PoolIntArray( 12, 13, 14, 15 ), PoolIntArray( 16, 15, 14, 17 ), PoolIntArray( 17, 14, 18, 19 ), PoolIntArray( 20, 21, 22, 23 ), PoolIntArray( 24, 23, 22, 25 ), PoolIntArray( 26, 27, 24, 25 ), PoolIntArray( 28, 26, 25, 29, 30 ), PoolIntArray( 31, 32, 33, 34 ), PoolIntArray( 35, 36, 37, 38 ), PoolIntArray( 35, 38, 39, 40 ), PoolIntArray( 41, 40, 39 ), PoolIntArray( 33, 42, 43, 44, 45 ), PoolIntArray( 46, 47, 48, 49, 50, 51 ), PoolIntArray( 49, 52, 53, 54 ), PoolIntArray( 55, 56, 28, 30, 57 ), PoolIntArray( 55, 57, 58 ), PoolIntArray( 55, 58, 59, 60 ), PoolIntArray( 61, 60, 59 ), PoolIntArray( 61, 59, 62, 53 ), PoolIntArray( 63, 64, 65 ), PoolIntArray( 19, 18, 66, 31, 67 ), PoolIntArray( 68, 69, 70, 34 ), PoolIntArray( 54, 71, 41 ), PoolIntArray( 72, 44, 43, 46, 63, 65, 73 ), PoolIntArray( 70, 74, 67, 31 ), PoolIntArray( 75, 76, 54, 77 ), PoolIntArray( 78, 79, 34 ), PoolIntArray( 62, 80, 77, 53 ), PoolIntArray( 81, 78, 34 ), PoolIntArray( 54, 41, 39 ), PoolIntArray( 82, 81, 34 ), PoolIntArray( 45, 82, 34, 33 ), PoolIntArray( 54, 39, 50, 49 ), PoolIntArray( 34, 70, 31 ), PoolIntArray( 46, 43, 47 ), PoolIntArray( 53, 77, 54 ) ]
outlines = [ PoolVector2Array( 1, 3, 2, -50, 48, -49, 48, -77, 80, -77, 80, -62, 150, -61, 123, -60, 80, -36, 79, 4, 305, 3, 305, -15, 371, -15, 371, -47, 500, -47, 500, -15, 563, -15, 563, 1, 782, 0, 782, -56, 766, -57, 737, -59, 782, -66, 783, -79, 815, -79, 817, -47, 866, -47, 869, -1, 969, -1, 966, -36, 903, -36, 902, -79, 846, -79, 843, -112, 754, -116, 741, -72, 721, -63, 721, -54, 741, -49, 752, -47, 752, -29, 734.285, -28.7669, 731, -12, 728.269, -28.6877, 692.102, -28.2119, 689, -11, 684.66, -28.1139, 676, -28, 661, -28, 652, -28, 639, -28, 587, -44, 585, -72, 560, -101, 414, -100, 356, -97, 356, -90, 356, -68, 285, -47, 286, -30, 231, -30, 208, -66, 183, -65, 183, -56, 199, -56, 206, -48, 207, -30, 187, -30, 184, -11, 180, -30, 150.645, -30, 144, -11, 139.082, -30, 121, -30, 121, -47, 153, -47, 153, -87, 112, -89, 56, -111, -11, -85, -10, -30, -106, -30, -105, 3 ) ]

[sub_resource type="NavigationPolygon" id=8]
vertices = PoolVector2Array( 573, -170, 557, -143, 487, -142, 489, -191, 571, -206, 183, -60, 183, -47, 153, -47, 153, -87, 183, -72, 239, -123, 217, -94, 712, -67, 721, -67, 721, -47, 691, -47, 665, -47, 665, -28, 639, -28, 671, -72, 691, -72, 711, -114, 687, -78, 651, -115, 654, -93, 654, -78, 579, -93, 557, -124, 651, -169, 421, -264, 370, -190, 305, -174, 369, -143, 294, -143, 267, -152, 293, -94, 216, -76 )
polygons = [ PoolIntArray( 0, 1, 2, 3, 4 ), PoolIntArray( 5, 6, 7, 8 ), PoolIntArray( 9, 5, 8 ), PoolIntArray( 9, 8, 10, 11 ), PoolIntArray( 12, 13, 14, 15 ), PoolIntArray( 16, 17, 18 ), PoolIntArray( 16, 18, 19 ), PoolIntArray( 15, 16, 19, 20, 12 ), PoolIntArray( 21, 12, 20, 22 ), PoolIntArray( 23, 21, 22, 24 ), PoolIntArray( 22, 25, 24 ), PoolIntArray( 0, 23, 24, 26, 27, 1 ), PoolIntArray( 0, 28, 23 ), PoolIntArray( 29, 4, 3, 30 ), PoolIntArray( 31, 29, 30 ), PoolIntArray( 31, 30, 32, 33, 34 ), PoolIntArray( 34, 33, 35, 11, 10 ), PoolIntArray( 36, 9, 11 ) ]
outlines = [ PoolVector2Array( 216, -76, 217, -94, 293, -94, 294, -143, 369, -143, 370, -190, 489, -191, 487, -142, 557, -143, 557, -124, 579, -93, 654, -93, 654, -78, 687, -78, 691, -72, 671, -72, 639, -28, 665, -28, 665, -47, 691, -47, 721, -47, 721, -67, 712, -67, 711, -114, 651, -115, 651, -169, 573, -170, 571, -206, 421, -264, 305, -174, 267, -152, 239, -123, 153, -87, 153, -47, 183, -47, 183, -60, 183, -72 ) ]

[sub_resource type="RectangleShape2D" id=9]
extents = Vector2( 0.25, 27.5 )

[node name="Max_Level_Fight_Scene" type="Node2D"]
script = ExtResource( 2 )

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color( 0.0313726, 0.00392157, 0.00392157, 1 )

[node name="Sprite" type="Sprite" parent="CanvasModulate"]
modulate = Color( 1, 1, 1, 0.988235 )
material = SubResource( 13 )
position = Vector2( -1235, -492 )
texture = ExtResource( 10 )

[node name="TileMap" type="TileMap" parent="."]
tile_set = ExtResource( 1 )
cell_size = Vector2( 16, 16 )
collision_layer = 2097215
collision_mask = 2097215
format = 1
tile_data = PoolIntArray( -786408, 3, 0, -589805, 4, 0, -589794, 4, 0, -393202, 4, 0, -393180, 4, 0, -327677, 7, 0, -327631, 7, 0, -196608, 8, 0, -196600, 4, 0, -196584, 3, 0, -196566, 4, 0, -196557, 8, 0, -65517, 4, 0, -65505, 4, 0, 65529, 0, 0, 1, 0, 0, 9, 0, 0, 35, 0, 0, 43, 0, 0, 51, 0, 0 )

[node name="Positions_For_Enemies" type="Node2D" parent="."]

[node name="Position_Belotur" type="Position2D" parent="Positions_For_Enemies"]
position = Vector2( 914, -27 )

[node name="Position_Heroe" type="Position2D" parent="."]
position = Vector2( -74, -27 )

[node name="Areas_For_Jumping" type="Area2D" parent="."]
visible = false

[node name="JAUlt" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 225, 83 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 3 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUlt"]
shape = SubResource( 11 )

[node name="JA" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 84, 121 )
collision_layer = 4194304
collision_mask = 4194304

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JA"]
shape = SubResource( 12 )

[node name="JAUltRight" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 776, -24 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUltRight"]
position = Vector2( -24, -10 )
shape = SubResource( 11 )

[node name="JAUlt2" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 334, 91 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 3 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUlt2"]
shape = SubResource( 11 )

[node name="JAUlt3" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 537, 70 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 3 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUlt3"]
shape = SubResource( 11 )

[node name="JAUlt5" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 450, 106 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 3 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUlt5"]
position = Vector2( 0, -38 )
shape = SubResource( 11 )

[node name="JAUltLeft" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 84, -26 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUltLeft"]
position = Vector2( 35, -10 )
shape = SubResource( 11 )

[node name="JAUltLeft2" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 133, -119 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUltLeft2"]
position = Vector2( 531, 84 )
shape = SubResource( 11 )

[node name="JAUltLeft3" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 105, -119 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 5 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUltLeft3"]
position = Vector2( 463, 34 )
shape = SubResource( 11 )

[node name="JAUltRight2" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 230, -37 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUltRight2"]
position = Vector2( 77, -45 )
shape = SubResource( 11 )

[node name="JAUltRight3" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 228, -28 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUltRight3"]
position = Vector2( 161, -102 )
shape = SubResource( 11 )

[node name="JAUltRight4" type="StaticBody2D" parent="Areas_For_Jumping"]
position = Vector2( 226, -36 )
collision_layer = 4194304
collision_mask = 4194304
script = ExtResource( 6 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Jumping/JAUltRight4"]
position = Vector2( -18, 1 )
shape = SubResource( 11 )

[node name="Area_For_Falling" type="Area2D" parent="."]
position = Vector2( 519, 994 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area_For_Falling"]
position = Vector2( 1, 4 )
shape = SubResource( 6 )

[node name="Sprite" type="Sprite" parent="."]
visible = false
position = Vector2( 523, 314 )
texture = ExtResource( 4 )

[node name="NavigationPolygonInstance" type="NavigationPolygonInstance" parent="."]
visible = false
navpoly = SubResource( 7 )
navigation_layers = 63
travel_cost = 2.0

[node name="NavigationPolygonInstance2" type="NavigationPolygonInstance" parent="."]
visible = false
navpoly = SubResource( 8 )
navigation_layers = 63

[node name="Line2D2" type="Line2D" parent="."]
points = PoolVector2Array( 668, -28 )
width = 3.0

[node name="Areas_For_Specifical_Controlling" type="Area2D" parent="."]
position = Vector2( -7, 202 )

[node name="No-Speed_Area" type="Area2D" parent="Areas_For_Specifical_Controlling"]
position = Vector2( 563, 35 )
scale = Vector2( 5, 0.2 )
collision_layer = 128
collision_mask = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Specifical_Controlling/No-Speed_Area"]
position = Vector2( 0.199997, -465 )
scale = Vector2( 2, 3 )
shape = SubResource( 9 )

[node name="No-Speed_Area2" type="Area2D" parent="Areas_For_Specifical_Controlling"]
position = Vector2( 391, 29 )
scale = Vector2( 5, 0.1 )
collision_layer = 128
collision_mask = 128

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Specifical_Controlling/No-Speed_Area2"]
position = Vector2( 0.800003, -860 )
shape = SubResource( 9 )

[node name="Speed_Area" type="Area2D" parent="Areas_For_Specifical_Controlling"]
position = Vector2( 559, -106 )
scale = Vector2( 30, 0.3 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Specifical_Controlling/Speed_Area"]
position = Vector2( 0, 17 )
shape = SubResource( 9 )

[node name="Speed_Area2" type="Area2D" parent="Areas_For_Specifical_Controlling"]
position = Vector2( 514, 109 )
scale = Vector2( 3, 0.5 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Specifical_Controlling/Speed_Area2"]
position = Vector2( 0, 17 )
shape = SubResource( 9 )

[node name="Speed_Area4" type="Area2D" parent="Areas_For_Specifical_Controlling"]
position = Vector2( 566, -46 )
scale = Vector2( 10, 0.1 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Specifical_Controlling/Speed_Area4"]
position = Vector2( 0, 17 )
shape = SubResource( 9 )

[node name="Speed_Area5" type="Area2D" parent="Areas_For_Specifical_Controlling"]
position = Vector2( 393, -51 )
scale = Vector2( 10, 0.1 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Specifical_Controlling/Speed_Area5"]
position = Vector2( 3.8147e-06, 0 )
shape = SubResource( 9 )

[node name="Speed_Area3" type="Area2D" parent="Areas_For_Specifical_Controlling"]
position = Vector2( 391, -117 )
scale = Vector2( 30, 0.3 )
collision_layer = 63
collision_mask = 63

[node name="CollisionShape2D" type="CollisionShape2D" parent="Areas_For_Specifical_Controlling/Speed_Area3"]
position = Vector2( 0, 17 )
shape = SubResource( 9 )

[node name="Fon2-scale-2" type="Sprite" parent="."]
position = Vector2( 472.5, -241 )
scale = Vector2( 12.1944, 5.66667 )
z_index = -3
texture = ExtResource( 9 )

[node name="Light_Objects" type="Node2D" parent="."]

[node name="NTorch" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( -56, -60 )

[node name="NTorch2" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 62, -124 )

[node name="NTorch3" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 85, -45 )

[node name="NTorch4" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 141, 316 )

[node name="NTorch5" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 299, 290 )

[node name="NTorch6" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 612, 263 )

[node name="NTorch7" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 436, -235 )

[node name="NTorch8" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 441, -82 )

[node name="NTorch9" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 473, 332 )

[node name="NTorch10" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 760, 315 )

[node name="NTorch11" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 779, -42 )

[node name="NTorch12" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 797, -122 )

[node name="NTorch13" parent="Light_Objects" instance=ExtResource( 8 )]
position = Vector2( 911, -38 )

[node name="小handelier" parent="Light_Objects" instance=ExtResource( 7 )]
position = Vector2( 435, -163 )

[node name="小handelier2" parent="Light_Objects" instance=ExtResource( 7 )]
position = Vector2( 261, -72 )

[node name="小handelier3" parent="Light_Objects" instance=ExtResource( 7 )]
position = Vector2( 611, -72 )

[node name="Torches" type="StaticBody2D" parent="."]

[connection signal="body_entered" from="Area_For_Falling" to="." method="_on_Area_For_Falling_body_entered"]
[connection signal="area_entered" from="Areas_For_Specifical_Controlling/No-Speed_Area" to="." method="_on_NoSpeed_Area_area_entered"]
[connection signal="body_entered" from="Areas_For_Specifical_Controlling/No-Speed_Area" to="." method="_on_NoSpeed_Area_body_entered"]
[connection signal="area_entered" from="Areas_For_Specifical_Controlling/No-Speed_Area2" to="." method="_on_NoSpeed_Area_area_entered"]
[connection signal="body_entered" from="Areas_For_Specifical_Controlling/No-Speed_Area2" to="." method="_on_NoSpeed_Area_body_entered"]
[connection signal="body_entered" from="Areas_For_Specifical_Controlling/Speed_Area" to="." method="_on_Speed_Area_body_entered"]
[connection signal="area_entered" from="Areas_For_Specifical_Controlling/Speed_Area4" to="." method="_on_Speed_Area4_area_entered"]
[connection signal="body_entered" from="Areas_For_Specifical_Controlling/Speed_Area4" to="." method="_on_Speed_Area_body_entered"]
[connection signal="body_entered" from="Areas_For_Specifical_Controlling/Speed_Area5" to="." method="_on_Speed_Area_body_entered"]
[connection signal="body_entered" from="Areas_For_Specifical_Controlling/Speed_Area3" to="." method="_on_Speed_Area_body_entered"]
